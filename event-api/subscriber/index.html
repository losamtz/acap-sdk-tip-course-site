<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/acap-sdk-tip-course-site/_next/static/media/e4af272ccee01ff0-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/acap-sdk-tip-course-site/_next/static/css/f3f5aff94fda463a.css" data-precedence="next"/><link rel="stylesheet" href="/acap-sdk-tip-course-site/_next/static/css/d71b4765ca35d69c.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/acap-sdk-tip-course-site/_next/static/chunks/webpack-794f4d40ad2b77b9.js"/><script src="/acap-sdk-tip-course-site/_next/static/chunks/4bd1b696-3685712e158e5cc3.js" async=""></script><script src="/acap-sdk-tip-course-site/_next/static/chunks/1684-8e2db03998fb4c1c.js" async=""></script><script src="/acap-sdk-tip-course-site/_next/static/chunks/main-app-eaf588a750fcb5ec.js" async=""></script><script src="/acap-sdk-tip-course-site/_next/static/chunks/6874-d1fae227c07c0c02.js" async=""></script><script src="/acap-sdk-tip-course-site/_next/static/chunks/172-f1ab4600d9981fdf.js" async=""></script><script src="/acap-sdk-tip-course-site/_next/static/chunks/7469-06b15da284b4ab53.js" async=""></script><script src="/acap-sdk-tip-course-site/_next/static/chunks/128-f8bcdb6788431897.js" async=""></script><script src="/acap-sdk-tip-course-site/_next/static/chunks/app/layout-6081898353b3b7cc.js" async=""></script><script src="/acap-sdk-tip-course-site/_next/static/chunks/7506-9734799210c1f2f6.js" async=""></script><script src="/acap-sdk-tip-course-site/_next/static/chunks/6455-24327ef290e019de.js" async=""></script><script src="/acap-sdk-tip-course-site/_next/static/chunks/app/event-api/subscriber/page-7ce2e04c3a2a8455.js" async=""></script><meta name="next-size-adjust" content=""/><title>ACAP SDK APIs Course</title><meta name="description" content="Comprehensive course on AXIS Camera Application Platform SDK APIs"/><meta name="generator" content="v0.app"/><script src="/acap-sdk-tip-course-site/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body class="__className_e8d3d9"><script>((e,t,r,n,o,a,i,l)=>{let u=document.documentElement,s=["light","dark"];function c(t){var r;(Array.isArray(e)?e:[e]).forEach(e=>{let r="class"===e,n=r&&a?o.map(e=>a[e]||e):o;r?(u.classList.remove(...n),u.classList.add(a&&a[t]?a[t]:t)):u.setAttribute(e,t)}),r=t,l&&s.includes(r)&&(u.style.colorScheme=r)}if(n)c(n);else try{let e=localStorage.getItem(t)||r,n=i&&"system"===e?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e;c(n)}catch(e){}})("class","theme","system",null,["light","dark"],null,true,true)</script><div class="min-h-screen bg-background"><header class="sticky top-0 z-50 w-full border-b border-yellow-200 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60"><div class="container flex h-14 items-center"><div class="mr-4 hidden md:flex pl-4"><a class="mr-6 flex items-center space-x-3 hover:opacity-80 transition-opacity" href="/acap-sdk-tip-course-site/"><img alt="Axis Technology Integration Partner" loading="lazy" width="120" height="32" decoding="async" data-nimg="1" class="h-8 w-auto opacity-80 mix-blend-multiply" style="color:transparent" src="/acap-sdk-tip-course-site/images/axis_tip_logo.png"/><span class="hidden font-bold sm:inline-block text-gray-800">ACAP SDK Course</span></a><nav aria-label="Main" data-orientation="horizontal" dir="ltr" class="relative z-10 flex max-w-max flex-1 items-center justify-center"><div style="position:relative"><ul data-orientation="horizontal" class="group flex flex-1 list-none items-center justify-center space-x-1" dir="ltr"><li><button id="radix-«R2db»-trigger-radix-«Redb»" data-state="closed" aria-expanded="false" aria-controls="radix-«R2db»-content-radix-«Redb»" class="group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[active]:bg-accent/50 group hover:bg-yellow-50 hover:text-yellow-800 data-[state=open]:bg-yellow-100 data-[state=open]:text-yellow-900" data-radix-collection-item="">APIs<!-- --> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-down relative top-[1px] ml-1 h-3 w-3 transition duration-200 group-data-[state=open]:rotate-180" aria-hidden="true"><path d="m6 9 6 6 6-6"></path></svg></button></li></ul></div><div class="absolute left-0 top-full flex justify-center"></div></nav></div></div></header><main class="container mx-auto px-4 py-8"><div class="space-y-8"><section class="space-y-4"><div class="flex items-center space-x-3"><div class="p-3 bg-green-100 rounded-lg text-green-600"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-bell h-8 w-8"><path d="M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9"></path><path d="M10.3 21a1.94 1.94 0 0 0 3.4 0"></path></svg></div><div><h1 class="text-4xl font-bold">Event Subscriber</h1><p class="text-xl text-muted-foreground">Subscribe to and process events from other ACAP applications</p></div></div><div class="flex flex-wrap gap-2"><div class="inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80">Subscriber Pattern</div><div class="inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 text-foreground">Event Callbacks</div><div class="inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 text-foreground">Data Extraction</div></div></section><div class="rounded-lg border text-card-foreground shadow-sm bg-green-50 border-green-200"><div class="flex flex-col space-y-1.5 p-6"><div class="text-2xl font-semibold leading-none tracking-tight text-green-800">Event Subscriber Overview</div></div><div class="p-6 pt-0 text-green-800"><p class="mb-4">An Event Subscriber is an ACAP application that receives and processes events from other applications. Subscribers use callback functions to handle incoming events asynchronously:</p><div class="grid md:grid-cols-3 gap-4 text-sm"><div class="flex items-start space-x-2"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-circle-check-big w-4 h-4 mt-0.5 text-green-600"><path d="M21.801 10A10 10 0 1 1 17 3.335"></path><path d="m9 11 3 3L22 4"></path></svg><div><strong>Subscribe:</strong> Register interest in specific event types</div></div><div class="flex items-start space-x-2"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-circle-check-big w-4 h-4 mt-0.5 text-green-600"><path d="M21.801 10A10 10 0 1 1 17 3.335"></path><path d="m9 11 3 3L22 4"></path></svg><div><strong>Receive:</strong> Get notified when matching events occur</div></div><div class="flex items-start space-x-2"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-circle-check-big w-4 h-4 mt-0.5 text-green-600"><path d="M21.801 10A10 10 0 1 1 17 3.335"></path><path d="m9 11 3 3L22 4"></path></svg><div><strong>Process:</strong> Extract data and take appropriate actions</div></div></div></div></div><div class="w-full max-w-6xl mx-auto p-6 space-y-6"><div class="text-center mb-8"><h1 class="text-3xl font-bold mb-2">ACAP Event Subscription Flow</h1><p class="text-gray-600">Step-by-step process for subscribing to and receiving events</p></div><div class="space-y-4"><div class="flex items-start gap-4"><div class="flex flex-col items-center"><div class="w-10 h-10 bg-green-500 text-white rounded-full flex items-center justify-center font-bold">1</div><div class="w-0.5 h-16 bg-gray-300 mt-2"></div></div><div class="rounded-lg border bg-card text-card-foreground shadow-sm flex-1 border-l-4 border-l-green-500"><div class="flex flex-col space-y-1.5 p-6"><div class="font-semibold tracking-tight text-lg">Create Event Handler</div><div class="text-sm text-muted-foreground">Initialize the event handler for subscription management</div></div><div class="p-6 pt-0"><pre style="color:#d4d4d4;font-size:0.875rem;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1rem;margin:.5em 0;overflow:auto;background:#1e1e1e;border-radius:0.5rem"><code class="language-c" style="white-space:pre;color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span><span>event_handler </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token" style="color:#dcdcaa">ax_event_handler_new</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span></span></code></pre></div></div></div><div class="flex items-start gap-4"><div class="flex flex-col items-center"><div class="w-10 h-10 bg-green-500 text-white rounded-full flex items-center justify-center font-bold">2</div><div class="w-0.5 h-16 bg-gray-300 mt-2"></div></div><div class="rounded-lg border bg-card text-card-foreground shadow-sm flex-1 border-l-4 border-l-green-500"><div class="flex flex-col space-y-1.5 p-6"><div class="font-semibold tracking-tight text-lg">Create Key-Value Set for Filter</div><div class="text-sm text-muted-foreground">Build the event filter to specify which events to receive</div></div><div class="p-6 pt-0"><pre style="color:#d4d4d4;font-size:0.875rem;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1rem;margin:.5em 0;overflow:auto;background:#1e1e1e;border-radius:0.5rem"><code class="language-c" style="white-space:pre;color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span><span>key_value_set </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token" style="color:#dcdcaa">ax_event_key_value_set_new</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span></span><span>
</span><span><span></span><span class="token" style="color:#6a9955">// Define the event pattern to subscribe to</span><span>
</span></span><span><span></span><span class="token" style="color:#dcdcaa">ax_event_key_value_set_add_key_value</span><span class="token" style="color:#d4d4d4">(</span><span>key_value_set</span><span class="token" style="color:#d4d4d4">,</span><span>
</span></span><span><span>    </span><span class="token" style="color:#ce9178">&quot;topic0&quot;</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#ce9178">&quot;tnsaxis&quot;</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#ce9178">&quot;CameraApplicationPlatform&quot;</span><span class="token" style="color:#d4d4d4">,</span><span> 
</span></span><span><span>    AX_VALUE_TYPE_STRING</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#9cdcfe">NULL</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span></span><span><span></span><span class="token" style="color:#dcdcaa">ax_event_key_value_set_add_key_value</span><span class="token" style="color:#d4d4d4">(</span><span>key_value_set</span><span class="token" style="color:#d4d4d4">,</span><span>
</span></span><span><span>    </span><span class="token" style="color:#ce9178">&quot;topic1&quot;</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#ce9178">&quot;tnsaxis&quot;</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#ce9178">&quot;SendData&quot;</span><span class="token" style="color:#d4d4d4">,</span><span> 
</span></span><span><span>    AX_VALUE_TYPE_STRING</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#9cdcfe">NULL</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span></span><span><span></span><span class="token" style="color:#dcdcaa">ax_event_key_value_set_add_key_value</span><span class="token" style="color:#d4d4d4">(</span><span>key_value_set</span><span class="token" style="color:#d4d4d4">,</span><span>
</span></span><span><span>    </span><span class="token" style="color:#ce9178">&quot;topic2&quot;</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#ce9178">&quot;tnsaxis&quot;</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#ce9178">&quot;SendDataEvent&quot;</span><span class="token" style="color:#d4d4d4">,</span><span> 
</span></span><span><span>    AX_VALUE_TYPE_STRING</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#9cdcfe">NULL</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span></span></code></pre></div></div></div><div class="flex items-start gap-4"><div class="flex flex-col items-center"><div class="w-10 h-10 bg-green-500 text-white rounded-full flex items-center justify-center font-bold">3</div><div class="w-0.5 h-16 bg-gray-300 mt-2"></div></div><div class="rounded-lg border bg-card text-card-foreground shadow-sm flex-1 border-l-4 border-l-green-500"><div class="flex flex-col space-y-1.5 p-6"><div class="font-semibold tracking-tight text-lg">Subscribe to Events</div><div class="text-sm text-muted-foreground">Register the subscription with callback function</div></div><div class="p-6 pt-0"><pre style="color:#d4d4d4;font-size:0.875rem;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1rem;margin:.5em 0;overflow:auto;background:#1e1e1e;border-radius:0.5rem"><code class="language-c" style="white-space:pre;color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span><span class="token" style="color:#dcdcaa">ax_event_handler_subscribe</span><span class="token" style="color:#d4d4d4">(</span><span>event_handler</span><span class="token" style="color:#d4d4d4">,</span><span> key_value_set</span><span class="token" style="color:#d4d4d4">,</span><span> 
</span></span><span><span>    </span><span class="token" style="color:#d4d4d4">&amp;</span><span>subscription</span><span class="token" style="color:#d4d4d4">,</span><span> subscription_callback</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#9cdcfe">NULL</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#9cdcfe">NULL</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span></span></code></pre></div></div></div><div class="flex items-start gap-4"><div class="flex flex-col items-center"><div class="w-10 h-10 bg-green-500 text-white rounded-full flex items-center justify-center font-bold">4</div><div class="w-0.5 h-16 bg-gray-300 mt-2"></div></div><div class="rounded-lg border bg-card text-card-foreground shadow-sm flex-1 border-l-4 border-l-green-500"><div class="flex flex-col space-y-1.5 p-6"><div class="font-semibold tracking-tight text-lg">Process Events in Callback</div><div class="text-sm text-muted-foreground">Handle incoming events and extract data payload</div></div><div class="p-6 pt-0"><pre style="color:#d4d4d4;font-size:0.875rem;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1rem;margin:.5em 0;overflow:auto;background:#1e1e1e;border-radius:0.5rem"><code class="language-c" style="white-space:pre;color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span><span class="token" style="color:#569CD6">static</span><span> </span><span class="token" style="color:#569CD6">void</span><span> </span><span class="token" style="color:#dcdcaa">subscription_callback</span><span class="token" style="color:#d4d4d4">(</span><span>guint subscription</span><span class="token" style="color:#d4d4d4">,</span><span> 
</span></span><span><span>                                      AXEvent</span><span class="token" style="color:#d4d4d4">*</span><span> event</span><span class="token" style="color:#d4d4d4">,</span><span> 
</span></span><span><span>                                      gpointer </span><span class="token" style="color:#d4d4d4">*</span><span>userdata</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span></span><span><span>    </span><span class="token" style="color:#569CD6">const</span><span> AXEventKeyValueSet</span><span class="token" style="color:#d4d4d4">*</span><span> key_value_set</span><span class="token" style="color:#d4d4d4">;</span><span>
</span></span><span><span>    gdouble temperature </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token" style="color:#b5cea8">0.0</span><span class="token" style="color:#d4d4d4">;</span><span>
</span></span><span><span>    gint used_memory </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token" style="color:#b5cea8">0</span><span class="token" style="color:#d4d4d4">;</span><span>
</span></span><span>    
</span><span><span>    </span><span class="token" style="color:#6a9955">// Extract data from event</span><span>
</span></span><span><span>    key_value_set </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token" style="color:#dcdcaa">ax_event_get_key_value_set</span><span class="token" style="color:#d4d4d4">(</span><span>event</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span></span><span><span>    </span><span class="token" style="color:#dcdcaa">ax_event_key_value_set_get_double</span><span class="token" style="color:#d4d4d4">(</span><span>key_value_set</span><span class="token" style="color:#d4d4d4">,</span><span> 
</span></span><span><span>        </span><span class="token" style="color:#ce9178">&quot;Temperature&quot;</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#9cdcfe">NULL</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#d4d4d4">&amp;</span><span>temperature</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#9cdcfe">NULL</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span></span><span><span>    </span><span class="token" style="color:#dcdcaa">ax_event_key_value_set_get_integer</span><span class="token" style="color:#d4d4d4">(</span><span>key_value_set</span><span class="token" style="color:#d4d4d4">,</span><span> 
</span></span><span><span>        </span><span class="token" style="color:#ce9178">&quot;UsedMemory&quot;</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#9cdcfe">NULL</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#d4d4d4">&amp;</span><span>used_memory</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#9cdcfe">NULL</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span></span><span>    
</span><span><span>    </span><span class="token" style="color:#dcdcaa">syslog</span><span class="token" style="color:#d4d4d4">(</span><span>LOG_INFO</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#ce9178">&quot;Temperature: %f C&quot;</span><span class="token" style="color:#d4d4d4">,</span><span> temperature</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span></span><span><span>    </span><span class="token" style="color:#dcdcaa">syslog</span><span class="token" style="color:#d4d4d4">(</span><span>LOG_INFO</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#ce9178">&quot;Used Memory: %d MB&quot;</span><span class="token" style="color:#d4d4d4">,</span><span> used_memory</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span></span><span>    
</span><span><span>    </span><span class="token" style="color:#6a9955">// Always free the received event</span><span>
</span></span><span><span>    </span><span class="token" style="color:#dcdcaa">ax_event_free</span><span class="token" style="color:#d4d4d4">(</span><span>event</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span></span><span><span></span><span class="token" style="color:#d4d4d4">}</span></span></code></pre></div></div></div><div class="flex items-start gap-4"><div class="flex flex-col items-center"><div class="w-10 h-10 bg-green-500 text-white rounded-full flex items-center justify-center font-bold">5</div><div class="w-0.5 h-16 bg-gray-300 mt-2"></div></div><div class="rounded-lg border bg-card text-card-foreground shadow-sm flex-1 border-l-4 border-l-green-500"><div class="flex flex-col space-y-1.5 p-6"><div class="font-semibold tracking-tight text-lg">Run Main Loop</div><div class="text-sm text-muted-foreground">Keep application running to receive events</div></div><div class="p-6 pt-0"><pre style="color:#d4d4d4;font-size:0.875rem;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1rem;margin:.5em 0;overflow:auto;background:#1e1e1e;border-radius:0.5rem"><code class="language-c" style="white-space:pre;color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span><span>main_loop </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token" style="color:#dcdcaa">g_main_loop_new</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#9cdcfe">NULL</span><span class="token" style="color:#d4d4d4">,</span><span> FALSE</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span></span><span><span></span><span class="token" style="color:#dcdcaa">g_main_loop_run</span><span class="token" style="color:#d4d4d4">(</span><span>main_loop</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span></span></code></pre></div></div></div><div class="flex items-start gap-4"><div class="flex flex-col items-center"><div class="w-10 h-10 bg-green-500 text-white rounded-full flex items-center justify-center font-bold">6</div></div><div class="rounded-lg border bg-card text-card-foreground shadow-sm flex-1 border-l-4 border-l-green-500"><div class="flex flex-col space-y-1.5 p-6"><div class="font-semibold tracking-tight text-lg">Cleanup Subscription</div><div class="text-sm text-muted-foreground">Properly cleanup resources when shutting down</div></div><div class="p-6 pt-0"><pre style="color:#d4d4d4;font-size:0.875rem;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1rem;margin:.5em 0;overflow:auto;background:#1e1e1e;border-radius:0.5rem"><code class="language-c" style="white-space:pre;color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span><span class="token" style="color:#dcdcaa">ax_event_handler_unsubscribe</span><span class="token" style="color:#d4d4d4">(</span><span>event_handler</span><span class="token" style="color:#d4d4d4">,</span><span> subscription</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#9cdcfe">NULL</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span></span><span><span></span><span class="token" style="color:#dcdcaa">ax_event_handler_free</span><span class="token" style="color:#d4d4d4">(</span><span>event_handler</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span></span><span><span></span><span class="token" style="color:#dcdcaa">g_main_loop_unref</span><span class="token" style="color:#d4d4d4">(</span><span>main_loop</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span></span></code></pre></div></div></div></div><div class="rounded-lg border text-card-foreground shadow-sm bg-green-50 border-green-200"><div class="flex flex-col space-y-1.5 p-6"><div class="text-2xl font-semibold leading-none tracking-tight flex items-center gap-3 text-green-800"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-bell w-5 h-5"><path d="M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9"></path><path d="M10.3 21a1.94 1.94 0 0 0 3.4 0"></path></svg>Subscription Key Points</div></div><div class="p-6 pt-0 text-green-800"><div class="grid md:grid-cols-2 gap-4 text-sm"><div><h4 class="font-semibold mb-2">Callback Function:</h4><ul class="space-y-1"><li>• Called automatically when matching events arrive</li><li>• Must free the received event with ax_event_free()</li><li>• Runs in separate thread - ensure thread safety</li><li>• Keep processing lightweight and fast</li></ul></div><div><h4 class="font-semibold mb-2">Data Extraction:</h4><ul class="space-y-1"><li>• Use ax_event_get_key_value_set() to get data container</li><li>• Extract values with ax_event_key_value_set_get_*()</li><li>• Support for int, double, string, boolean types</li><li>• Always check return values for error handling</li></ul></div></div></div></div></div><div class="w-full max-w-6xl mx-auto p-6"><div class="text-center mb-8"><h1 class="text-3xl font-bold mb-2">Event Subscription API Functions</h1><p class="text-gray-600">Complete reference for subscribing to and processing ACAP events</p></div><div dir="ltr" data-orientation="horizontal" class="w-full"><div role="tablist" aria-orientation="horizontal" class="h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground grid w-full grid-cols-3" tabindex="-1" data-orientation="horizontal" style="outline:none"><button type="button" role="tab" aria-selected="true" aria-controls="radix-«R91trlb»-content-subscription" data-state="active" id="radix-«R91trlb»-trigger-subscription" class="justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm flex items-center gap-2" tabindex="-1" data-orientation="horizontal" data-radix-collection-item=""><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-bell w-5 h-5"><path d="M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9"></path><path d="M10.3 21a1.94 1.94 0 0 0 3.4 0"></path></svg>Subscription</button><button type="button" role="tab" aria-selected="false" aria-controls="radix-«R91trlb»-content-callback" data-state="inactive" id="radix-«R91trlb»-trigger-callback" class="justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm flex items-center gap-2" tabindex="-1" data-orientation="horizontal" data-radix-collection-item=""><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-code w-5 h-5"><polyline points="16 18 22 12 16 6"></polyline><polyline points="8 6 2 12 8 18"></polyline></svg>Callbacks</button><button type="button" role="tab" aria-selected="false" aria-controls="radix-«R91trlb»-content-extraction" data-state="inactive" id="radix-«R91trlb»-trigger-extraction" class="justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm flex items-center gap-2" tabindex="-1" data-orientation="horizontal" data-radix-collection-item=""><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-database w-5 h-5"><ellipse cx="12" cy="5" rx="9" ry="3"></ellipse><path d="M3 5V19A9 3 0 0 0 21 19V5"></path><path d="M3 12A9 3 0 0 0 21 12"></path></svg>Data Extraction</button></div><div data-state="active" data-orientation="horizontal" role="tabpanel" aria-labelledby="radix-«R91trlb»-trigger-subscription" id="radix-«R91trlb»-content-subscription" tabindex="0" class="ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 space-y-4 mt-4" style="animation-duration:0s"><div class="grid gap-4"><div class="rounded-lg border bg-card text-card-foreground border-l-4 border-l-green-500 shadow-sm overflow-hidden"><div class="flex flex-col space-y-1.5 p-6"><div class="font-semibold tracking-tight flex items-center gap-3 text-lg"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-code w-5 h-5"><polyline points="16 18 22 12 16 6"></polyline><polyline points="8 6 2 12 8 18"></polyline></svg><code class="text-green-600">ax_event_handler_subscribe</code></div><div class="text-sm text-muted-foreground">Subscribes to events matching the specified key-value set pattern</div></div><div class="p-6 pt-0 space-y-4"><div><div class="inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 text-foreground mb-2">Function Signature</div><pre style="color:#d4d4d4;font-size:0.875rem;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1rem;margin:.5em 0;overflow:auto;background:#1e1e1e;border-radius:0.5rem"><code class="language-c" style="white-space:pre;color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span><span>gboolean </span><span class="token" style="color:#dcdcaa">ax_event_handler_subscribe</span><span class="token" style="color:#d4d4d4">(</span><span>AXEventHandler</span><span class="token" style="color:#d4d4d4">*</span><span> event_handler</span><span class="token" style="color:#d4d4d4">,</span><span> AXEventKeyValueSet</span><span class="token" style="color:#d4d4d4">*</span><span> key_value_set</span><span class="token" style="color:#d4d4d4">,</span><span> guint</span><span class="token" style="color:#d4d4d4">*</span><span> subscription</span><span class="token" style="color:#d4d4d4">,</span><span> AXSubscriptionCallback callback</span><span class="token" style="color:#d4d4d4">,</span><span> gpointer user_data</span><span class="token" style="color:#d4d4d4">,</span><span> GError</span><span class="token" style="color:#d4d4d4">*</span><span class="token" style="color:#d4d4d4">*</span><span> error</span><span class="token" style="color:#d4d4d4">)</span></span></code></pre></div><div><div class="inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 text-foreground mb-2">Example Usage</div><pre style="color:#d4d4d4;font-size:0.875rem;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1rem;margin:.5em 0;overflow:auto;background:#1e1e1e;border-radius:0.5rem"><code class="language-c" style="white-space:pre;color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span><span class="token" style="color:#6a9955">// Subscribe to SendData events</span><span>
</span></span><span><span>AXEventKeyValueSet </span><span class="token" style="color:#d4d4d4">*</span><span>kvs </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token" style="color:#dcdcaa">ax_event_key_value_set_new</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span></span><span><span></span><span class="token" style="color:#dcdcaa">ax_event_key_value_set_add_key_value</span><span class="token" style="color:#d4d4d4">(</span><span>kvs</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#ce9178">&quot;topic0&quot;</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#ce9178">&quot;tnsaxis&quot;</span><span class="token" style="color:#d4d4d4">,</span><span> 
</span></span><span><span>    </span><span class="token" style="color:#ce9178">&quot;CameraApplicationPlatform&quot;</span><span class="token" style="color:#d4d4d4">,</span><span> AX_VALUE_TYPE_STRING</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#9cdcfe">NULL</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span></span><span><span></span><span class="token" style="color:#dcdcaa">ax_event_key_value_set_add_key_value</span><span class="token" style="color:#d4d4d4">(</span><span>kvs</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#ce9178">&quot;topic1&quot;</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#ce9178">&quot;tnsaxis&quot;</span><span class="token" style="color:#d4d4d4">,</span><span> 
</span></span><span><span>    </span><span class="token" style="color:#ce9178">&quot;SendData&quot;</span><span class="token" style="color:#d4d4d4">,</span><span> AX_VALUE_TYPE_STRING</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#9cdcfe">NULL</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span></span><span><span></span><span class="token" style="color:#dcdcaa">ax_event_key_value_set_add_key_value</span><span class="token" style="color:#d4d4d4">(</span><span>kvs</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#ce9178">&quot;topic2&quot;</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#ce9178">&quot;tnsaxis&quot;</span><span class="token" style="color:#d4d4d4">,</span><span> 
</span></span><span><span>    </span><span class="token" style="color:#ce9178">&quot;SendDataEvent&quot;</span><span class="token" style="color:#d4d4d4">,</span><span> AX_VALUE_TYPE_STRING</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#9cdcfe">NULL</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span></span><span>
</span><span><span>guint subscription</span><span class="token" style="color:#d4d4d4">;</span><span>
</span></span><span><span></span><span class="token" style="color:#dcdcaa">ax_event_handler_subscribe</span><span class="token" style="color:#d4d4d4">(</span><span>event_handler</span><span class="token" style="color:#d4d4d4">,</span><span> kvs</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#d4d4d4">&amp;</span><span>subscription</span><span class="token" style="color:#d4d4d4">,</span><span>
</span></span><span><span>                          subscription_callback</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#9cdcfe">NULL</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#9cdcfe">NULL</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span></span><span><span></span><span class="token" style="color:#dcdcaa">ax_event_key_value_set_free</span><span class="token" style="color:#d4d4d4">(</span><span>kvs</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span></span></code></pre></div><div><div class="inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80 mb-2">Returns</div><p class="text-sm text-gray-700 bg-gray-50 p-2 rounded">gboolean - TRUE on success, FALSE on failure</p></div></div></div><div class="rounded-lg border bg-card text-card-foreground border-l-4 border-l-green-500 shadow-sm overflow-hidden"><div class="flex flex-col space-y-1.5 p-6"><div class="font-semibold tracking-tight flex items-center gap-3 text-lg"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-code w-5 h-5"><polyline points="16 18 22 12 16 6"></polyline><polyline points="8 6 2 12 8 18"></polyline></svg><code class="text-green-600">ax_event_handler_unsubscribe</code></div><div class="text-sm text-muted-foreground">Removes an active event subscription</div></div><div class="p-6 pt-0 space-y-4"><div><div class="inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 text-foreground mb-2">Function Signature</div><pre style="color:#d4d4d4;font-size:0.875rem;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1rem;margin:.5em 0;overflow:auto;background:#1e1e1e;border-radius:0.5rem"><code class="language-c" style="white-space:pre;color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span><span>gboolean </span><span class="token" style="color:#dcdcaa">ax_event_handler_unsubscribe</span><span class="token" style="color:#d4d4d4">(</span><span>AXEventHandler</span><span class="token" style="color:#d4d4d4">*</span><span> event_handler</span><span class="token" style="color:#d4d4d4">,</span><span> guint subscription</span><span class="token" style="color:#d4d4d4">,</span><span> GError</span><span class="token" style="color:#d4d4d4">*</span><span class="token" style="color:#d4d4d4">*</span><span> error</span><span class="token" style="color:#d4d4d4">)</span></span></code></pre></div><div><div class="inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 text-foreground mb-2">Example Usage</div><pre style="color:#d4d4d4;font-size:0.875rem;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1rem;margin:.5em 0;overflow:auto;background:#1e1e1e;border-radius:0.5rem"><code class="language-c" style="white-space:pre;color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span><span class="token" style="color:#6a9955">// Cleanup subscription when shutting down</span><span>
</span></span><span><span></span><span class="token" style="color:#569CD6">if</span><span> </span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">!</span><span class="token" style="color:#dcdcaa">ax_event_handler_unsubscribe</span><span class="token" style="color:#d4d4d4">(</span><span>event_handler</span><span class="token" style="color:#d4d4d4">,</span><span> subscription</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#d4d4d4">&amp;</span><span>error</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span></span><span><span>    </span><span class="token" style="color:#dcdcaa">syslog</span><span class="token" style="color:#d4d4d4">(</span><span>LOG_ERROR</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#ce9178">&quot;Failed to unsubscribe: %s&quot;</span><span class="token" style="color:#d4d4d4">,</span><span> error</span><span class="token" style="color:#d4d4d4">-&gt;</span><span>message</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span></span><span><span>    </span><span class="token" style="color:#dcdcaa">g_error_free</span><span class="token" style="color:#d4d4d4">(</span><span>error</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span></span><span><span></span><span class="token" style="color:#d4d4d4">}</span></span></code></pre></div><div><div class="inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80 mb-2">Returns</div><p class="text-sm text-gray-700 bg-gray-50 p-2 rounded">gboolean - TRUE on success, FALSE on failure</p></div></div></div></div></div><div data-state="inactive" data-orientation="horizontal" role="tabpanel" aria-labelledby="radix-«R91trlb»-trigger-callback" hidden="" id="radix-«R91trlb»-content-callback" tabindex="0" class="ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 space-y-4 mt-4"></div><div data-state="inactive" data-orientation="horizontal" role="tabpanel" aria-labelledby="radix-«R91trlb»-trigger-extraction" hidden="" id="radix-«R91trlb»-content-extraction" tabindex="0" class="ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 space-y-4 mt-4"></div></div><div class="rounded-lg border text-card-foreground shadow-sm mt-8 bg-red-50 border-red-200"><div class="flex flex-col space-y-1.5 p-6"><div class="text-2xl font-semibold leading-none tracking-tight flex items-center gap-3 text-red-800"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-circle-alert w-5 h-5"><circle cx="12" cy="12" r="10"></circle><line x1="12" x2="12" y1="8" y2="12"></line><line x1="12" x2="12.01" y1="16" y2="16"></line></svg>Critical Subscription Guidelines</div></div><div class="p-6 pt-0 text-red-800"><div class="grid md:grid-cols-2 gap-4 text-sm"><div><h4 class="font-semibold mb-2">Must Do:</h4><ul class="space-y-1"><li>• Always call ax_event_free() in callback</li><li>• Validate event parameter before use</li><li>• Keep callback processing fast and lightweight</li><li>• Unsubscribe before freeing event handler</li><li>• Use proper thread synchronization if needed</li></ul></div><div><h4 class="font-semibold mb-2">Never Do:</h4><ul class="space-y-1"><li>• Free the AXEventKeyValueSet from callback</li><li>• Block or perform long operations in callback</li><li>• Store event pointers beyond callback scope</li><li>• Call subscription functions from callback</li><li>• Ignore return values from extraction functions</li></ul></div></div></div></div></div><div class="rounded-lg border text-card-foreground shadow-sm bg-blue-50 border-blue-200"><div class="flex flex-col space-y-1.5 p-6"><div class="text-2xl font-semibold leading-none tracking-tight flex items-center gap-2 text-blue-800"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-code h-5 w-5"><polyline points="16 18 22 12 16 6"></polyline><polyline points="8 6 2 12 8 18"></polyline></svg>Callback Function Guidelines</div></div><div class="p-6 pt-0 text-blue-800"><div class="grid md:grid-cols-2 gap-4 text-sm"><div><h4 class="font-semibold mb-2">Essential Rules:</h4><ul class="space-y-1"><li>• Always call ax_event_free() on received events</li><li>• Validate event parameter before processing</li><li>• Keep callback processing fast and lightweight</li><li>• Don&#x27;t call subscription functions from callbacks</li><li>• Use proper thread synchronization for shared data</li></ul></div><div><h4 class="font-semibold mb-2">Data Extraction:</h4><ul class="space-y-1"><li>• Use ax_event_get_key_value_set() to get data container</li><li>• Check return values from get_integer/double/string functions</li><li>• Handle missing or invalid data gracefully</li><li>• Don&#x27;t store event pointers beyond callback scope</li><li>• Log important events for debugging purposes</li></ul></div></div></div></div><div class="rounded-lg border text-card-foreground shadow-sm bg-yellow-50 border-yellow-200"><div class="flex flex-col space-y-1.5 p-6"><div class="text-2xl font-semibold leading-none tracking-tight flex items-center gap-2 text-yellow-800"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-triangle-alert h-5 w-5"><path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3"></path><path d="M12 9v4"></path><path d="M12 17h.01"></path></svg>Thread Safety Considerations</div></div><div class="p-6 pt-0 text-yellow-800"><div class="space-y-4 text-sm"><p><strong>Important:</strong> Event callbacks run in separate threads from your main application. This requires careful handling of shared data and resources.</p><div class="grid md:grid-cols-2 gap-4"><div><h4 class="font-semibold mb-2">Use Mutexes for Shared Data:</h4><div class="bg-gray-900 p-3 rounded text-green-400 font-mono text-xs"><pre>GMutex data_mutex;
static void callback(guint sub, AXEvent* event, gpointer data) {
    g_mutex_lock(&amp;data_mutex);
    // Access shared data safely
    shared_counter++;
    g_mutex_unlock(&amp;data_mutex);
    ax_event_free(event);
}</pre></div></div><div><h4 class="font-semibold mb-2">Avoid Long Operations:</h4><ul class="space-y-1"><li>• Don&#x27;t perform file I/O in callbacks</li><li>• Don&#x27;t make network requests</li><li>• Don&#x27;t call sleep() or blocking functions</li><li>• Queue work for main thread if needed</li></ul></div></div></div></div></div><div class="rounded-lg border bg-card text-card-foreground shadow-sm"><div class="flex flex-col space-y-1.5 p-6"><div class="text-2xl font-semibold leading-none tracking-tight">Common Subscription Patterns</div></div><div class="p-6 pt-0"><div class="grid md:grid-cols-2 gap-6"><div><h4 class="font-semibold mb-2">Monitor System Events:</h4><p class="text-sm text-muted-foreground mb-2">Subscribe to platform events like application lifecycle, resource usage, or system status changes.</p><div class="bg-gray-100 p-2 rounded text-xs font-mono">topic0: &quot;CameraApplicationPlatform&quot;<br/>topic1: &quot;System&quot;<br/>topic2: &quot;ResourceUsage&quot;</div></div><div><h4 class="font-semibold mb-2">Inter-App Communication:</h4><p class="text-sm text-muted-foreground mb-2">Subscribe to events from specific applications to coordinate workflows or share data.</p><div class="bg-gray-100 p-2 rounded text-xs font-mono">topic0: &quot;CameraApplicationPlatform&quot;<br/>topic1: &quot;MotionDetector&quot;<br/>topic2: &quot;MotionDetected&quot;</div></div></div></div></div><div class="w-full max-w-6xl mx-auto p-6 space-y-8"><div class="text-center mb-8"><h1 class="text-3xl font-bold mb-2">Event Subscriber Code Sample</h1><p class="text-gray-600 dark:text-gray-400">A complete example demonstrating how to subscribe to the &quot;SendData&quot; event and process system metrics.</p></div><div class="rounded-lg border bg-card text-card-foreground shadow-sm"><div class="flex flex-col space-y-1.5 p-6"><div class="flex items-start justify-between"><div class="flex items-center gap-3"><div class="p-2 bg-purple-100 rounded-lg text-purple-600 dark:bg-purple-900/30 dark:text-purple-400"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-rss w-5 h-5"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg></div><div><div class="font-semibold tracking-tight text-xl">Subscribe to &quot;SendData&quot; Event</div><div class="text-muted-foreground text-base mt-1">This code subscribes to system metrics events including temperature, load, and memory data.</div></div></div><div class="flex flex-col items-end gap-2"><div class="inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80">Intermediate</div><div class="inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 text-foreground">Data Event</div></div></div></div><div class="p-6 pt-0 space-y-6"><div><h3 class="font-semibold mb-2">Key Implementation Components:</h3><ul class="list-disc list-inside space-y-1 text-sm"><li><strong>Subscription Callback:</strong> Processes incoming events and extracts system metrics data</li><li><strong>Event Subscription Setup:</strong> Configures topic hierarchy to match the SendData producer</li><li><strong>Main Loop Integration:</strong> Implements GLib main loop for continuous event processing</li><li><strong>Resource Management:</strong> Proper cleanup and memory management for production use</li></ul></div><div dir="ltr" data-orientation="horizontal" class="w-full"><div role="tablist" aria-orientation="horizontal" class="h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground grid w-full grid-cols-3" tabindex="-1" data-orientation="horizontal" style="outline:none"><button type="button" role="tab" aria-selected="true" aria-controls="radix-«R5a1trlb»-content-callback" data-state="active" id="radix-«R5a1trlb»-trigger-callback" class="justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm flex items-center gap-2" tabindex="-1" data-orientation="horizontal" data-radix-collection-item=""><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-database h-4 w-4"><ellipse cx="12" cy="5" rx="9" ry="3"></ellipse><path d="M3 5V19A9 3 0 0 0 21 19V5"></path><path d="M3 12A9 3 0 0 0 21 12"></path></svg>Subscription Callback</button><button type="button" role="tab" aria-selected="false" aria-controls="radix-«R5a1trlb»-content-subscription" data-state="inactive" id="radix-«R5a1trlb»-trigger-subscription" class="justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm flex items-center gap-2" tabindex="-1" data-orientation="horizontal" data-radix-collection-item=""><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-settings h-4 w-4"><path d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"></path><circle cx="12" cy="12" r="3"></circle></svg>Send Data Subscription</button><button type="button" role="tab" aria-selected="false" aria-controls="radix-«R5a1trlb»-content-main" data-state="inactive" id="radix-«R5a1trlb»-trigger-main" class="justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm flex items-center gap-2" tabindex="-1" data-orientation="horizontal" data-radix-collection-item=""><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-play h-4 w-4"><polygon points="6 3 20 12 6 21 6 3"></polygon></svg>Main Function</button></div><div data-state="active" data-orientation="horizontal" role="tabpanel" aria-labelledby="radix-«R5a1trlb»-trigger-callback" id="radix-«R5a1trlb»-content-callback" tabindex="0" class="mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 space-y-4" style="animation-duration:0s"><div><h4 class="font-semibold mb-2">Event Processing Callback</h4><p class="text-sm text-muted-foreground mb-4">This callback function is invoked whenever a SendData event is received. It extracts temperature, load, and memory metrics from the event payload and logs them to syslog.</p><pre style="color:#d4d4d4;font-size:0.875rem;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1rem;margin:0;overflow:auto;background:#1e1e1e;border-radius:0.5rem"><code class="language-c" style="white-space:pre;color:#d4d4d4;font-size:13px;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span><span class="token" style="color:#6a9955">/**
</span></span><span class="token" style="color:#6a9955"> * brief Callback function which is called when event subscription is completed.
</span><span class="token" style="color:#6a9955"> *
</span><span class="token" style="color:#6a9955"> * This callback will be called when the subscription has been registered
</span><span class="token" style="color:#6a9955"> * with the event system. The event subscription can now be used for
</span><span class="token" style="color:#6a9955"> * subscribing to events.
</span><span class="token" style="color:#6a9955"> *
</span><span class="token" style="color:#6a9955"> * param subscription Subscription id.
</span><span class="token" style="color:#6a9955"> * param event Subscribed event.
</span><span class="token" style="color:#6a9955"> * param token Token as user data to the callback function.
</span><span><span class="token" style="color:#6a9955"> */</span><span>
</span></span><span><span></span><span class="token" style="color:#569CD6">static</span><span> </span><span class="token" style="color:#569CD6">void</span><span> </span><span class="token" style="color:#dcdcaa">subscription_callback</span><span class="token" style="color:#d4d4d4">(</span><span>guint subscription</span><span class="token" style="color:#d4d4d4">,</span><span> AXEvent</span><span class="token" style="color:#d4d4d4">*</span><span> event</span><span class="token" style="color:#d4d4d4">,</span><span> gpointer </span><span class="token" style="color:#d4d4d4">*</span><span>userdata</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span></span><span><span>    </span><span class="token" style="color:#569CD6">const</span><span> AXEventKeyValueSet</span><span class="token" style="color:#d4d4d4">*</span><span> key_value_set</span><span class="token" style="color:#d4d4d4">;</span><span>
</span></span><span><span>    gdouble temperature </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token" style="color:#b5cea8">0.0</span><span class="token" style="color:#d4d4d4">;</span><span>
</span></span><span><span>    gdouble load </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token" style="color:#b5cea8">0.0</span><span class="token" style="color:#d4d4d4">;</span><span>
</span></span><span><span>    gint used_memory </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token" style="color:#b5cea8">0</span><span class="token" style="color:#d4d4d4">;</span><span>
</span></span><span><span>    gint free_memory </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token" style="color:#b5cea8">0</span><span class="token" style="color:#d4d4d4">;</span><span>
</span></span><span>
</span><span><span>    </span><span class="token" style="color:#6a9955">// The subscription id is not used in this example</span><span>
</span></span><span><span>    </span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#569CD6">void</span><span class="token" style="color:#d4d4d4">)</span><span>subscription</span><span class="token" style="color:#d4d4d4">;</span><span>
</span></span><span><span>    </span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#569CD6">void</span><span class="token" style="color:#d4d4d4">)</span><span>userdata</span><span class="token" style="color:#d4d4d4">;</span><span>
</span></span><span>
</span><span><span>    </span><span class="token" style="color:#6a9955">// Extract the AXEventKeyValueSet from the event</span><span>
</span></span><span><span>    key_value_set </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token" style="color:#dcdcaa">ax_event_get_key_value_set</span><span class="token" style="color:#d4d4d4">(</span><span>event</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span></span><span>
</span><span><span>    </span><span class="token" style="color:#6a9955">// Get the Value of the data event</span><span>
</span></span><span><span>    </span><span class="token" style="color:#dcdcaa">ax_event_key_value_set_get_double</span><span class="token" style="color:#d4d4d4">(</span><span>key_value_set</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#ce9178">&quot;Temperature&quot;</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#9cdcfe">NULL</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#d4d4d4">&amp;</span><span>temperature</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#9cdcfe">NULL</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span></span><span><span>    </span><span class="token" style="color:#dcdcaa">ax_event_key_value_set_get_double</span><span class="token" style="color:#d4d4d4">(</span><span>key_value_set</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#ce9178">&quot;Load&quot;</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#9cdcfe">NULL</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#d4d4d4">&amp;</span><span>load</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#9cdcfe">NULL</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span></span><span><span>    </span><span class="token" style="color:#dcdcaa">ax_event_key_value_set_get_integer</span><span class="token" style="color:#d4d4d4">(</span><span>key_value_set</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#ce9178">&quot;UsedMemory&quot;</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#9cdcfe">NULL</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#d4d4d4">&amp;</span><span>used_memory</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#9cdcfe">NULL</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span></span><span><span>    </span><span class="token" style="color:#dcdcaa">ax_event_key_value_set_get_integer</span><span class="token" style="color:#d4d4d4">(</span><span>key_value_set</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#ce9178">&quot;FreeMemory&quot;</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#9cdcfe">NULL</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#d4d4d4">&amp;</span><span>free_memory</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#9cdcfe">NULL</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span></span><span>    
</span><span><span>    </span><span class="token" style="color:#6a9955">// Print a helpful message</span><span>
</span></span><span><span>    </span><span class="token" style="color:#dcdcaa">syslog</span><span class="token" style="color:#d4d4d4">(</span><span>LOG_INFO</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#ce9178">&quot;Temperature: %f C&quot;</span><span class="token" style="color:#d4d4d4">,</span><span> temperature</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span></span><span><span>    </span><span class="token" style="color:#dcdcaa">syslog</span><span class="token" style="color:#d4d4d4">(</span><span>LOG_INFO</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#ce9178">&quot;Load: %f&quot;</span><span class="token" style="color:#d4d4d4">,</span><span> load</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span></span><span><span>    </span><span class="token" style="color:#dcdcaa">syslog</span><span class="token" style="color:#d4d4d4">(</span><span>LOG_INFO</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#ce9178">&quot;Used Memory: %d (MB)&quot;</span><span class="token" style="color:#d4d4d4">,</span><span> used_memory</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span></span><span><span>    </span><span class="token" style="color:#dcdcaa">syslog</span><span class="token" style="color:#d4d4d4">(</span><span>LOG_INFO</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#ce9178">&quot;Free Memory: %d (MB)&quot;</span><span class="token" style="color:#d4d4d4">,</span><span> free_memory</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span></span><span>
</span><span><span>    </span><span class="token" style="color:#6a9955">/*
</span></span><span class="token" style="color:#6a9955">     * Free the received event, n.b. AXEventKeyValueSet should not be freed
</span><span class="token" style="color:#6a9955">     * since it&#x27;s owned by the event system until unsubscribing
</span><span><span class="token" style="color:#6a9955">     */</span><span>
</span></span><span><span>    </span><span class="token" style="color:#dcdcaa">ax_event_free</span><span class="token" style="color:#d4d4d4">(</span><span>event</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span></span><span><span></span><span class="token" style="color:#d4d4d4">}</span></span></code></pre></div></div><div data-state="inactive" data-orientation="horizontal" role="tabpanel" aria-labelledby="radix-«R5a1trlb»-trigger-subscription" hidden="" id="radix-«R5a1trlb»-content-subscription" tabindex="0" class="mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 space-y-4"></div><div data-state="inactive" data-orientation="horizontal" role="tabpanel" aria-labelledby="radix-«R5a1trlb»-trigger-main" hidden="" id="radix-«R5a1trlb»-content-main" tabindex="0" class="mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 space-y-4"></div></div><div class="flex gap-4"><a class="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2 flex-1 flex items-center gap-2" href="https://github.com/losamtz/axis-acap-tip-workshop/tree/master/event/subcribe-event-data"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-github w-4 h-4 mr-2"><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"></path><path d="M9 18c-4.51 2-5-2-7-2"></path></svg>View Complete Code<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-external-link w-3 h-3 ml-1"><path d="M15 3h6v6"></path><path d="M10 14 21 3"></path><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path></svg></a></div></div></div></div><div class="flex justify-between"><a class="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2" href="/acap-sdk-tip-course-site/event-api/producer/"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-arrow-left mr-2 h-4 w-4"><path d="m12 19-7-7 7-7"></path><path d="M19 12H5"></path></svg>Back to Producer</a><a class="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2" href="/acap-sdk-tip-course-site/event-api/">Complete Event API Module<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-circle-check-big ml-2 h-4 w-4"><path d="M21.801 10A10 10 0 1 1 17 3.335"></path><path d="m9 11 3 3L22 4"></path></svg></a></div></div></main></div><script src="/acap-sdk-tip-course-site/_next/static/chunks/webpack-794f4d40ad2b77b9.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[99304,[\"6874\",\"static/chunks/6874-d1fae227c07c0c02.js\",\"172\",\"static/chunks/172-f1ab4600d9981fdf.js\",\"7469\",\"static/chunks/7469-06b15da284b4ab53.js\",\"128\",\"static/chunks/128-f8bcdb6788431897.js\",\"7177\",\"static/chunks/app/layout-6081898353b3b7cc.js\"],\"ThemeProvider\"]\n3:I[26635,[\"6874\",\"static/chunks/6874-d1fae227c07c0c02.js\",\"172\",\"static/chunks/172-f1ab4600d9981fdf.js\",\"7469\",\"static/chunks/7469-06b15da284b4ab53.js\",\"128\",\"static/chunks/128-f8bcdb6788431897.js\",\"7177\",\"static/chunks/app/layout-6081898353b3b7cc.js\"],\"Navigation\"]\n4:I[87555,[],\"\"]\n5:I[31295,[],\"\"]\n6:I[21555,[\"6874\",\"static/chunks/6874-d1fae227c07c0c02.js\",\"172\",\"static/chunks/172-f1ab4600d9981fdf.js\",\"7506\",\"static/chunks/7506-9734799210c1f2f6.js\",\"6455\",\"static/chunks/6455-24327ef290e019de.js\",\"7207\",\"static/chunks/app/event-api/subscriber/page-7ce2e04c3a2a8455.js\"],\"default\"]\n7:I[50893,[\"6874\",\"static/chunks/6874-d1fae227c07c0c02.js\",\"172\",\"static/chunks/172-f1ab4600d9981fdf.js\",\"7506\",\"static/chunks/7506-9734799210c1f2f6.js\",\"6455\",\"static/chunks/6455-24327ef290e019de.js\",\"7207\",\"static/chunks/app/event-api/subscriber/page-7ce2e04c3a2a8455.js\"],\"default\"]\n8:I[46455,[\"6874\",\"static/chunks/6874-d1fae227c07c0c02.js\",\"172\",\"static/chunks/172-f1ab4600d9981fdf.js\",\"7506\",\"static/chunks/7506-9734799210c1f2f6.js\",\"6455\",\"static/chunks/6455-24327ef290e019de.js\",\"7207\",\"static/chunks/app/event-api/subscriber/page-7ce2e04c3a2a8455.js\"],\"default\"]\n9:I[6874,[\"6874\",\"static/chunks/6874-d1fae227c07c0c02.js\",\"172\",\"static/chunks/172-f1ab4600d9981fdf.js\",\"7506\",\"static/chunks/7506-9734799210c1f2f6.js\",\"6455\",\"static/chunks/6455-24327ef290e019de.js\",\"7207\",\"static/chunks/app/event-api/subscriber/page-7ce2e04c3a2a8455.js\"],\"\"]\na:I[59665,[],\"OutletBoundary\"]\nd:I[59665,[],\"ViewportBoundary\"]\nf:I[59665,[],\"MetadataBoundary\"]\n11:I[26614,[],\"\"]\n:HL[\"/acap-sdk-tip-course-site/_next/static/media/e4af272ccee01ff0-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/acap-sdk-tip-course-site/_next/static/css/f3f5aff94fda463a.css\",\"style\"]"])</script><script>self.__next_f.push([1,"\n:HL[\"/acap-sdk-tip-course-site/_next/static/css/d71b4765ca35d69c.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"9aBmwoTyuL-LhbBXTNUYW\",\"p\":\"/acap-sdk-tip-course-site\",\"c\":[\"\",\"event-api\",\"subscriber\",\"\"],\"i\":false,\"f\":[[[\"\",{\"children\":[\"event-api\",{\"children\":[\"subscriber\",{\"children\":[\"__PAGE__\",{}]}]}]},\"$undefined\",\"$undefined\",true],[\"\",[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/acap-sdk-tip-course-site/_next/static/css/f3f5aff94fda463a.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}],[\"$\",\"link\",\"1\",{\"rel\":\"stylesheet\",\"href\":\"/acap-sdk-tip-course-site/_next/static/css/d71b4765ca35d69c.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"en\",\"suppressHydrationWarning\":true,\"children\":[\"$\",\"body\",null,{\"className\":\"__className_e8d3d9\",\"children\":[\"$\",\"$L2\",null,{\"attribute\":\"class\",\"defaultTheme\":\"system\",\"enableSystem\":true,\"disableTransitionOnChange\":true,\"children\":[\"$\",\"div\",null,{\"className\":\"min-h-screen bg-background\",\"children\":[[\"$\",\"$L3\",null,{}],[\"$\",\"main\",null,{\"className\":\"container mx-auto px-4 py-8\",\"children\":[\"$\",\"$L4\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L5\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":404}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}]]}]}]}]}]]}],{\"children\":[\"event-api\",[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L4\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L5\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[\"subscriber\",[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L4\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L5\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[\"__PAGE__\",[\"$\",\"$1\",\"c\",{\"children\":[[\"$\",\"div\",null,{\"className\":\"space-y-8\",\"children\":[[\"$\",\"section\",null,{\"className\":\"space-y-4\",\"children\":[[\"$\",\"div\",null,{\"className\":\"flex items-center space-x-3\",\"children\":[[\"$\",\"div\",null,{\"className\":\"p-3 bg-green-100 rounded-lg text-green-600\",\"children\":[\"$\",\"svg\",null,{\"ref\":\"$undefined\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-bell h-8 w-8\",\"children\":[[\"$\",\"path\",\"1qo2s2\",{\"d\":\"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9\"}],[\"$\",\"path\",\"qgo35s\",{\"d\":\"M10.3 21a1.94 1.94 0 0 0 3.4 0\"}],\"$undefined\"]}]}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"h1\",null,{\"className\":\"text-4xl font-bold\",\"children\":\"Event Subscriber\"}],[\"$\",\"p\",null,{\"className\":\"text-xl text-muted-foreground\",\"children\":\"Subscribe to and process events from other ACAP applications\"}]]}]]}],[\"$\",\"div\",null,{\"className\":\"flex flex-wrap gap-2\",\"children\":[[\"$\",\"div\",null,{\"className\":\"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\"children\":\"Subscriber Pattern\"}],[\"$\",\"div\",null,{\"className\":\"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 text-foreground\",\"children\":\"Event Callbacks\"}],[\"$\",\"div\",null,{\"className\":\"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 text-foreground\",\"children\":\"Data Extraction\"}]]}]]}],[\"$\",\"div\",null,{\"ref\":\"$undefined\",\"className\":\"rounded-lg border text-card-foreground shadow-sm bg-green-50 border-green-200\",\"children\":[[\"$\",\"div\",null,{\"ref\":\"$undefined\",\"className\":\"flex flex-col space-y-1.5 p-6\",\"children\":[\"$\",\"div\",null,{\"ref\":\"$undefined\",\"className\":\"text-2xl font-semibold leading-none tracking-tight text-green-800\",\"children\":\"Event Subscriber Overview\"}]}],[\"$\",\"div\",null,{\"ref\":\"$undefined\",\"className\":\"p-6 pt-0 text-green-800\",\"children\":[[\"$\",\"p\",null,{\"className\":\"mb-4\",\"children\":\"An Event Subscriber is an ACAP application that receives and processes events from other applications. Subscribers use callback functions to handle incoming events asynchronously:\"}],[\"$\",\"div\",null,{\"className\":\"grid md:grid-cols-3 gap-4 text-sm\",\"children\":[[\"$\",\"div\",null,{\"className\":\"flex items-start space-x-2\",\"children\":[[\"$\",\"svg\",null,{\"ref\":\"$undefined\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-circle-check-big w-4 h-4 mt-0.5 text-green-600\",\"children\":[[\"$\",\"path\",\"yps3ct\",{\"d\":\"M21.801 10A10 10 0 1 1 17 3.335\"}],[\"$\",\"path\",\"1pflzl\",{\"d\":\"m9 11 3 3L22 4\"}],\"$undefined\"]}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Subscribe:\"}],\" Register interest in specific event types\"]}]]}],[\"$\",\"div\",null,{\"className\":\"flex items-start space-x-2\",\"children\":[[\"$\",\"svg\",null,{\"ref\":\"$undefined\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-circle-check-big w-4 h-4 mt-0.5 text-green-600\",\"children\":[[\"$\",\"path\",\"yps3ct\",{\"d\":\"M21.801 10A10 10 0 1 1 17 3.335\"}],[\"$\",\"path\",\"1pflzl\",{\"d\":\"m9 11 3 3L22 4\"}],\"$undefined\"]}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Receive:\"}],\" Get notified when matching events occur\"]}]]}],[\"$\",\"div\",null,{\"className\":\"flex items-start space-x-2\",\"children\":[[\"$\",\"svg\",null,{\"ref\":\"$undefined\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-circle-check-big w-4 h-4 mt-0.5 text-green-600\",\"children\":[[\"$\",\"path\",\"yps3ct\",{\"d\":\"M21.801 10A10 10 0 1 1 17 3.335\"}],[\"$\",\"path\",\"1pflzl\",{\"d\":\"m9 11 3 3L22 4\"}],\"$undefined\"]}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Process:\"}],\" Extract data and take appropriate actions\"]}]]}]]}]]}]]}],[\"$\",\"$L6\",null,{}],[\"$\",\"$L7\",null,{}],[\"$\",\"div\",null,{\"ref\":\"$undefined\",\"className\":\"rounded-lg border text-card-foreground shadow-sm bg-blue-50 border-blue-200\",\"children\":[[\"$\",\"div\",null,{\"ref\":\"$undefined\",\"className\":\"flex flex-col space-y-1.5 p-6\",\"children\":[\"$\",\"div\",null,{\"ref\":\"$undefined\",\"className\":\"text-2xl font-semibold leading-none tracking-tight flex items-center gap-2 text-blue-800\",\"children\":[[\"$\",\"svg\",null,{\"ref\":\"$undefined\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-code h-5 w-5\",\"children\":[[\"$\",\"polyline\",\"z7tu5w\",{\"points\":\"16 18 22 12 16 6\"}],[\"$\",\"polyline\",\"1eg1df\",{\"points\":\"8 6 2 12 8 18\"}],\"$undefined\"]}],\"Callback Function Guidelines\"]}]}],[\"$\",\"div\",null,{\"ref\":\"$undefined\",\"className\":\"p-6 pt-0 text-blue-800\",\"children\":[\"$\",\"div\",null,{\"className\":\"grid md:grid-cols-2 gap-4 text-sm\",\"children\":[[\"$\",\"div\",null,{\"children\":[[\"$\",\"h4\",null,{\"className\":\"font-semibold mb-2\",\"children\":\"Essential Rules:\"}],[\"$\",\"ul\",null,{\"className\":\"space-y-1\",\"children\":[[\"$\",\"li\",null,{\"children\":\"• Always call ax_event_free() on received events\"}],[\"$\",\"li\",null,{\"children\":\"• Validate event parameter before processing\"}],[\"$\",\"li\",null,{\"children\":\"• Keep callback processing fast and lightweight\"}],[\"$\",\"li\",null,{\"children\":\"• Don't call subscription functions from callbacks\"}],[\"$\",\"li\",null,{\"children\":\"• Use proper thread synchronization for shared data\"}]]}]]}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"h4\",null,{\"className\":\"font-semibold mb-2\",\"children\":\"Data Extraction:\"}],[\"$\",\"ul\",null,{\"className\":\"space-y-1\",\"children\":[[\"$\",\"li\",null,{\"children\":\"• Use ax_event_get_key_value_set() to get data container\"}],[\"$\",\"li\",null,{\"children\":\"• Check return values from get_integer/double/string functions\"}],[\"$\",\"li\",null,{\"children\":\"• Handle missing or invalid data gracefully\"}],[\"$\",\"li\",null,{\"children\":\"• Don't store event pointers beyond callback scope\"}],[\"$\",\"li\",null,{\"children\":\"• Log important events for debugging purposes\"}]]}]]}]]}]}]]}],[\"$\",\"div\",null,{\"ref\":\"$undefined\",\"className\":\"rounded-lg border text-card-foreground shadow-sm bg-yellow-50 border-yellow-200\",\"children\":[[\"$\",\"div\",null,{\"ref\":\"$undefined\",\"className\":\"flex flex-col space-y-1.5 p-6\",\"children\":[\"$\",\"div\",null,{\"ref\":\"$undefined\",\"className\":\"text-2xl font-semibold leading-none tracking-tight flex items-center gap-2 text-yellow-800\",\"children\":[[\"$\",\"svg\",null,{\"ref\":\"$undefined\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-triangle-alert h-5 w-5\",\"children\":[[\"$\",\"path\",\"wmoenq\",{\"d\":\"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3\"}],[\"$\",\"path\",\"juzpu7\",{\"d\":\"M12 9v4\"}],[\"$\",\"path\",\"p32p05\",{\"d\":\"M12 17h.01\"}],\"$undefined\"]}],\"Thread Safety Considerations\"]}]}],[\"$\",\"div\",null,{\"ref\":\"$undefined\",\"className\":\"p-6 pt-0 text-yellow-800\",\"children\":[\"$\",\"div\",null,{\"className\":\"space-y-4 text-sm\",\"children\":[[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Important:\"}],\" Event callbacks run in separate threads from your main application. This requires careful handling of shared data and resources.\"]}],[\"$\",\"div\",null,{\"className\":\"grid md:grid-cols-2 gap-4\",\"children\":[[\"$\",\"div\",null,{\"children\":[[\"$\",\"h4\",null,{\"className\":\"font-semibold mb-2\",\"children\":\"Use Mutexes for Shared Data:\"}],[\"$\",\"div\",null,{\"className\":\"bg-gray-900 p-3 rounded text-green-400 font-mono text-xs\",\"children\":[\"$\",\"pre\",null,{\"children\":\"GMutex data_mutex;\\nstatic void callback(guint sub, AXEvent* event, gpointer data) {\\n    g_mutex_lock(\u0026data_mutex);\\n    // Access shared data safely\\n    shared_counter++;\\n    g_mutex_unlock(\u0026data_mutex);\\n    ax_event_free(event);\\n}\"}]}]]}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"h4\",null,{\"className\":\"font-semibold mb-2\",\"children\":\"Avoid Long Operations:\"}],[\"$\",\"ul\",null,{\"className\":\"space-y-1\",\"children\":[[\"$\",\"li\",null,{\"children\":\"• Don't perform file I/O in callbacks\"}],[\"$\",\"li\",null,{\"children\":\"• Don't make network requests\"}],[\"$\",\"li\",null,{\"children\":\"• Don't call sleep() or blocking functions\"}],[\"$\",\"li\",null,{\"children\":\"• Queue work for main thread if needed\"}]]}]]}]]}]]}]}]]}],[\"$\",\"div\",null,{\"ref\":\"$undefined\",\"className\":\"rounded-lg border bg-card text-card-foreground shadow-sm\",\"children\":[[\"$\",\"div\",null,{\"ref\":\"$undefined\",\"className\":\"flex flex-col space-y-1.5 p-6\",\"children\":[\"$\",\"div\",null,{\"ref\":\"$undefined\",\"className\":\"text-2xl font-semibold leading-none tracking-tight\",\"children\":\"Common Subscription Patterns\"}]}],[\"$\",\"div\",null,{\"ref\":\"$undefined\",\"className\":\"p-6 pt-0\",\"children\":[\"$\",\"div\",null,{\"className\":\"grid md:grid-cols-2 gap-6\",\"children\":[[\"$\",\"div\",null,{\"children\":[[\"$\",\"h4\",null,{\"className\":\"font-semibold mb-2\",\"children\":\"Monitor System Events:\"}],[\"$\",\"p\",null,{\"className\":\"text-sm text-muted-foreground mb-2\",\"children\":\"Subscribe to platform events like application lifecycle, resource usage, or system status changes.\"}],[\"$\",\"div\",null,{\"className\":\"bg-gray-100 p-2 rounded text-xs font-mono\",\"children\":[\"topic0: \\\"CameraApplicationPlatform\\\"\",[\"$\",\"br\",null,{}],\"topic1: \\\"System\\\"\",[\"$\",\"br\",null,{}],\"topic2: \\\"ResourceUsage\\\"\"]}]]}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"h4\",null,{\"className\":\"font-semibold mb-2\",\"children\":\"Inter-App Communication:\"}],[\"$\",\"p\",null,{\"className\":\"text-sm text-muted-foreground mb-2\",\"children\":\"Subscribe to events from specific applications to coordinate workflows or share data.\"}],[\"$\",\"div\",null,{\"className\":\"bg-gray-100 p-2 rounded text-xs font-mono\",\"children\":[\"topic0: \\\"CameraApplicationPlatform\\\"\",[\"$\",\"br\",null,{}],\"topic1: \\\"MotionDetector\\\"\",[\"$\",\"br\",null,{}],\"topic2: \\\"MotionDetected\\\"\"]}]]}]]}]}]]}],[\"$\",\"$L8\",null,{}],[\"$\",\"div\",null,{\"className\":\"flex justify-between\",\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/event-api/producer\",\"children\":[[\"$\",\"svg\",null,{\"ref\":\"$undefined\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-arrow-left mr-2 h-4 w-4\",\"children\":[[\"$\",\"path\",\"1l729n\",{\"d\":\"m12 19-7-7 7-7\"}],[\"$\",\"path\",\"x3x0zl\",{\"d\":\"M19 12H5\"}],\"$undefined\"]}],\"Back to Producer\"],\"className\":\"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [\u0026_svg]:pointer-events-none [\u0026_svg]:size-4 [\u0026_svg]:shrink-0 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2\",\"ref\":null}],[\"$\",\"$L9\",null,{\"href\":\"/event-api\",\"children\":[\"Complete Event API Module\",[\"$\",\"svg\",null,{\"ref\":\"$undefined\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-circle-check-big ml-2 h-4 w-4\",\"children\":[[\"$\",\"path\",\"yps3ct\",{\"d\":\"M21.801 10A10 10 0 1 1 17 3.335\"}],[\"$\",\"path\",\"1pflzl\",{\"d\":\"m9 11 3 3L22 4\"}],\"$undefined\"]}]],\"className\":\"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [\u0026_svg]:pointer-events-none [\u0026_svg]:size-4 [\u0026_svg]:shrink-0 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2\",\"ref\":null}]]}]]}],\"$undefined\",null,[\"$\",\"$La\",null,{\"children\":[\"$Lb\",\"$Lc\",null]}]]}],{},null,false]},null,false]},null,false]},null,false],[\"$\",\"$1\",\"h\",{\"children\":[null,[\"$\",\"$1\",\"D6rTxVJvhE7SZoZlHUyWH\",{\"children\":[[\"$\",\"$Ld\",null,{\"children\":\"$Le\"}],[\"$\",\"meta\",null,{\"name\":\"next-size-adjust\",\"content\":\"\"}]]}],[\"$\",\"$Lf\",null,{\"children\":\"$L10\"}]]}],false]],\"m\":\"$undefined\",\"G\":[\"$11\",\"$undefined\"],\"s\":false,\"S\":true}\n"])</script><script>self.__next_f.push([1,"e:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\nb:null\n"])</script><script>self.__next_f.push([1,"c:null\n10:[[\"$\",\"title\",\"0\",{\"children\":\"ACAP SDK APIs Course\"}],[\"$\",\"meta\",\"1\",{\"name\":\"description\",\"content\":\"Comprehensive course on AXIS Camera Application Platform SDK APIs\"}],[\"$\",\"meta\",\"2\",{\"name\":\"generator\",\"content\":\"v0.app\"}]]\n"])</script></body></html>