(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9858],{12486:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(19946).A)("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]])},19946:(e,s,r)=>{"use strict";r.d(s,{A:()=>c});var t=r(12115);let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),a=function(){for(var e=arguments.length,s=Array(e),r=0;r<e;r++)s[r]=arguments[r];return s.filter((e,s,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===s).join(" ").trim()};var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=(0,t.forwardRef)((e,s)=>{let{color:r="currentColor",size:n=24,strokeWidth:l=2,absoluteStrokeWidth:c,className:o="",children:d,iconNode:h,...u}=e;return(0,t.createElement)("svg",{ref:s,...i,width:n,height:n,stroke:r,strokeWidth:c?24*Number(l)/Number(n):l,className:a("lucide",o),...u},[...h.map(e=>{let[s,r]=e;return(0,t.createElement)(s,r)}),...Array.isArray(d)?d:[d]])}),c=(e,s)=>{let r=(0,t.forwardRef)((r,i)=>{let{className:c,...o}=r;return(0,t.createElement)(l,{ref:i,iconNode:s,className:a("lucide-".concat(n(e)),c),...o})});return r.displayName="".concat(e),r}},31911:(e,s,r)=>{Promise.resolve().then(r.bind(r,84080)),Promise.resolve().then(r.bind(r,57142)),Promise.resolve().then(r.t.bind(r,6874,23))},34869:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(19946).A)("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]])},34964:(e,s,r)=>{"use strict";r.r(s),r.d(s,{Tabs:()=>l,TabsContent:()=>d,TabsList:()=>c,TabsTrigger:()=>o});var t=r(95155),n=r(12115),a=r(30064),i=r(53999);let l=a.bL,c=n.forwardRef((e,s)=>{let{className:r,...n}=e;return(0,t.jsx)(a.B8,{ref:s,className:(0,i.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",r),...n})});c.displayName=a.B8.displayName;let o=n.forwardRef((e,s)=>{let{className:r,...n}=e;return(0,t.jsx)(a.l9,{ref:s,className:(0,i.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",r),...n})});o.displayName=a.l9.displayName;let d=n.forwardRef((e,s)=>{let{className:r,...n}=e;return(0,t.jsx)(a.UC,{ref:s,className:(0,i.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",r),...n})});d.displayName=a.UC.displayName},40081:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(19946).A)("Workflow",[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]])},49852:(e,s,r)=>{"use strict";r.d(s,{default:()=>i});var t=r(95155),n=r(12115);let a=()=>"mermaid-chart-".concat(Math.random().toString(36).substring(2,9));function i(e){let{chart:s}=e,i=(0,n.useRef)(null),l=(0,n.useRef)(a()),c=(0,n.useRef)(!1);return(0,n.useEffect)(()=>{(async()=>{if(i.current&&s)try{let e=(await Promise.all([r.e(8446),r.e(5280)]).then(r.bind(r,85280))).default;if(c.current||(e.initialize({startOnLoad:!1,theme:"default",securityLevel:"loose",fontFamily:"inherit"}),c.current=!0),i.current){let{svg:r}=await e.render(l.current,s);i.current&&(i.current.innerHTML=r)}}catch(e){console.error("Mermaid rendering error:",e),i.current&&(i.current.innerHTML='<div class="text-red-500">Error rendering diagram.</div>')}})()},[s]),(0,t.jsx)("div",{ref:i,className:"mermaid-container w-full flex justify-center"})}},53999:(e,s,r)=>{"use strict";r.d(s,{cn:()=>a});var t=r(52596),n=r(39688);function a(){for(var e=arguments.length,s=Array(e),r=0;r<e;r++)s[r]=arguments[r];return(0,n.QP)((0,t.$)(s))}},54213:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(19946).A)("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]])},57142:(e,s,r)=>{"use strict";r.d(s,{default:()=>u});var t=r(95155),n=r(88482),a=r(34869),i=r(19946);let l=(0,i.A)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);var c=r(71539),o=r(40081),d=r(54213);let h=(0,i.A)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);function u(){return(0,t.jsxs)("section",{className:"space-y-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-4xl font-bold mb-4",children:"VAPIX API Theory"}),(0,t.jsx)("p",{className:"text-xl text-muted-foreground",children:"Understanding VAPIX access for ACAP applications and how to securely interact with device capabilities"})]}),(0,t.jsxs)(n.Zp,{className:"border-l-4 border-l-blue-500",children:[(0,t.jsx)(n.aR,{children:(0,t.jsxs)(n.ZB,{className:"flex items-center",children:[(0,t.jsx)(a.A,{className:"mr-2 h-6 w-6 text-blue-500"}),"What is VAPIX?"]})}),(0,t.jsxs)(n.Wu,{className:"space-y-4",children:[(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"VAPIX\xae"})," is Axis's HTTP-based interface for controlling and configuring devices. It provides access to video streams, events, applications, PTZ controls, and system information through a set of REST-like endpoints and CGI interfaces."]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"VAPIX access for ACAP applications"})," is a secure mechanism (AXIS OS â‰¥ 11.6) that allows ACAP apps to call VAPIX endpoints from inside the device without hard-coding credentials. Apps request temporary service accounts at runtime and communicate through a local virtual host."]})]})]}),(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,t.jsxs)(n.Zp,{children:[(0,t.jsx)(n.aR,{children:(0,t.jsxs)(n.ZB,{className:"flex items-center",children:[(0,t.jsx)(l,{className:"mr-2 h-5 w-5 text-green-500"}),"Security & Least-Privilege"]})}),(0,t.jsx)(n.Wu,{children:(0,t.jsx)("p",{children:"Apps don't ship or store device credentials. Instead, credentials are minted per app session and are only valid on the local virtual host (127.0.0.12). They're not written to disk and should live only in memory, reducing credential sprawl."})})]}),(0,t.jsxs)(n.Zp,{children:[(0,t.jsx)(n.aR,{children:(0,t.jsxs)(n.ZB,{className:"flex items-center",children:[(0,t.jsx)(c.A,{className:"mr-2 h-5 w-5 text-orange-500"}),"Operational Simplicity"]})}),(0,t.jsx)(n.Wu,{children:(0,t.jsx)("p",{children:"Your app can call any needed VAPIX endpoints (applications management, network video, system readiness, etc.) through a stable local path, while Axis OS controls lifecycle and limits."})})]})]}),(0,t.jsxs)(n.Zp,{children:[(0,t.jsx)(n.aR,{children:(0,t.jsxs)(n.ZB,{className:"flex items-center",children:[(0,t.jsx)(o.A,{className:"mr-2 h-6 w-6 text-purple-500"}),"How It Works (Conceptual Flow)"]})}),(0,t.jsx)(n.Wu,{className:"space-y-6",children:(0,t.jsxs)("div",{className:"grid gap-4",children:[(0,t.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,t.jsx)("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center text-sm font-semibold",children:"1"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-semibold",children:"Declare Intent"}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:["In your app's manifest, declare you'll use the D-Bus method"," ",(0,t.jsx)("code",{className:"bg-muted px-1 rounded",children:"com.axis.HTTPConf1.VAPIXServiceAccounts1.GetCredentials"}),". Apps must run as a dynamic user."]})]})]}),(0,t.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,t.jsx)("div",{className:"flex-shrink-0 w-8 h-8 bg-green-100 text-green-600 rounded-full flex items-center justify-center text-sm font-semibold",children:"2"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-semibold",children:"Acquire Credentials (D-Bus)"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Your app calls the D-Bus method and receives a generated username and strong random password. Axis OS can hold up to 200 such accounts; they disappear on reboot."})]})]}),(0,t.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,t.jsx)("div",{className:"flex-shrink-0 w-8 h-8 bg-orange-100 text-orange-600 rounded-full flex items-center justify-center text-sm font-semibold",children:"3"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-semibold",children:"Call Local Virtual Host"}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:["With those credentials, make HTTP(S) requests to"," ",(0,t.jsx)("code",{className:"bg-muted px-1 rounded",children:"127.0.0.12"})," (loopback). Auth is Basic; the OS validates the service account and forwards requests internally."]})]})]}),(0,t.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,t.jsx)("div",{className:"flex-shrink-0 w-8 h-8 bg-purple-100 text-purple-600 rounded-full flex items-center justify-center text-sm font-semibold",children:"4"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-semibold",children:"Process Responses"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"VAPIX endpoints return JSON, text, or other formats depending on the API. Use cURL for transport and Jansson for JSON processing."})]})]})]})})]}),(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,t.jsxs)(n.Zp,{children:[(0,t.jsx)(n.aR,{children:(0,t.jsxs)(n.ZB,{className:"flex items-center",children:[(0,t.jsx)(d.A,{className:"mr-2 h-5 w-5 text-blue-500"}),"cURL (Transport)"]})}),(0,t.jsx)(n.Wu,{children:(0,t.jsx)("p",{children:"Provided as part of the ACAP Native SDK, cURL is the HTTP engine your app uses to communicate with the local VAPIX virtual host. Set URL, authentication, timeouts, and handle responses through cURL's robust API."})})]}),(0,t.jsxs)(n.Zp,{children:[(0,t.jsx)(n.aR,{children:(0,t.jsxs)(n.ZB,{className:"flex items-center",children:[(0,t.jsx)(h,{className:"mr-2 h-5 w-5 text-green-500"}),"Jansson (JSON Processing)"]})}),(0,t.jsx)(n.Wu,{children:(0,t.jsx)("p",{children:"Also included in the SDK, Jansson handles JSON encoding/decoding for VAPIX APIs that accept or return JSON. Parse responses, build requests, and manipulate JSON data structures safely without external dependencies."})})]})]}),(0,t.jsxs)(n.Zp,{className:"bg-yellow-50 border-yellow-200",children:[(0,t.jsx)(n.aR,{children:(0,t.jsx)(n.ZB,{className:"text-yellow-800",children:"Usage Boundaries & Caveats"})}),(0,t.jsxs)(n.Wu,{className:"space-y-3 text-yellow-800",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("strong",{children:"Scope & Lifetime:"})," Accounts are loopback-only and ephemeralâ€”fetch new credentials after every reboot/app start. Don't persist them to disk."]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("strong",{children:"Proxy Interactions:"}),' Add 127.0.0.12 to "No proxy" if a global proxy is configured.']}),(0,t.jsxs)("div",{children:[(0,t.jsx)("strong",{children:"Prerequisites:"})," cURL and Jansson APIs are part of the ACAP Native SDK and supported on modern Axis chipsets (ARTPEC-6/7/8/9, etc.)."]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("strong",{children:"Security Context:"})," From AXIS OS 12, the platform further tightens privileged access, reinforcing the model where apps rely on managed credentials instead of privileged shells."]})]})]}),(0,t.jsxs)(n.Zp,{className:"border-l-4 border-l-green-500",children:[(0,t.jsx)(n.aR,{children:(0,t.jsxs)(n.ZB,{className:"flex items-center text-green-700",children:[(0,t.jsx)(c.A,{className:"mr-2 h-6 w-6"}),"What You Get"]})}),(0,t.jsxs)(n.Wu,{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,t.jsx)("span",{children:"A secure, lifecycle-managed way for ACAP apps to interact with VAPIX"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,t.jsx)("span",{children:"Simple transport layer (cURL) and robust JSON tooling (Jansson) bundled with the SDK"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,t.jsx)("span",{children:"Access to the full breadth of device capabilities exposed by VAPIXâ€”without shipping static credentials"})]})]})]})]})}},71539:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(19946).A)("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]])},84080:(e,s,r)=>{"use strict";r.d(s,{default:()=>x});var t=r(95155),n=r(88482),a=r(34964),i=r(58497),l=r(38391),c=r(40081),o=r(19946);let d=(0,o.A)("FileCog",[["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m3.2 12.9-.9-.4",key:"1i3dj5"}],["path",{d:"m3.2 15.1-.9.4",key:"1fvgj0"}],["path",{d:"M4.677 21.5a2 2 0 0 0 1.313.5H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v2.5",key:"1yo3oz"}],["path",{d:"m4.9 11.2-.4-.9",key:"otmhb9"}],["path",{d:"m4.9 16.8-.4.9",key:"1b8z07"}],["path",{d:"m7.5 10.3-.4.9",key:"11k65u"}],["path",{d:"m7.5 17.7-.4-.9",key:"431x55"}],["path",{d:"m9.7 12.5-.9.4",key:"87sjan"}],["path",{d:"m9.7 15.5-.9-.4",key:"khqm91"}],["circle",{cx:"6",cy:"14",r:"3",key:"a1xfv6"}]]),h=(0,o.A)("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);var u=r(12486);let m=(0,o.A)("Braces",[["path",{d:"M8 3H7a2 2 0 0 0-2 2v5a2 2 0 0 1-2 2 2 2 0 0 1 2 2v5c0 1.1.9 2 2 2h1",key:"ezmyqa"}],["path",{d:"M16 21h1a2 2 0 0 0 2-2v-5c0-1.1.9-2 2-2a2 2 0 0 1-2-2V5a2 2 0 0 0-2-2h-1",key:"e1hn23"}]]);var p=r(49852);function x(){return(0,t.jsxs)("section",{className:"space-y-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-3xl font-bold",children:"The VAPIX Request Flow"}),(0,t.jsx)("p",{className:"text-muted-foreground mt-2",children:"Making a VAPIX call from an ACAP involves a sequence of steps using several libraries. This diagram shows the high-level interaction, and the tabs below provide details for each stage."})]}),(0,t.jsxs)(n.Zp,{children:[(0,t.jsx)(n.aR,{children:(0,t.jsxs)(n.ZB,{className:"flex items-center",children:[(0,t.jsx)(c.A,{className:"mr-2 h-5 w-5"}),"Interaction Diagram"]})}),(0,t.jsx)(n.Wu,{children:(0,t.jsx)(p.default,{chart:'\n    sequenceDiagram\n        participant App as ACAP App\n        participant GDBus as GDBus (GLib)\n        participant DBus as D-Bus System Service\n        participant cURL as libcurl\n        participant VAPIX as VAPIX on 127.0.0.12\n        participant Jansson as Jansson\n\n        App->>GDBus: g_bus_get_sync()\n        GDBus->>DBus: GetCredentials("user")\n        DBus--\x3e>GDBus: Returns "id:password"\n        GDBus--\x3e>App: Provides credentials string\n\n        App->>cURL: curl_easy_setopt(URL, credentials, request_body)\n        cURL->>VAPIX: HTTP POST /axis-cgi/...\n        VAPIX--\x3e>cURL: Returns JSON response string\n        cURL--\x3e>App: Provides response string\n\n        App->>Jansson: json_loads(response_string)\n        Jansson--\x3e>App: Returns parsed json_t object\n        App->>App: Process data from object\n    '})})]}),(0,t.jsxs)(a.Tabs,{defaultValue:"manifest",className:"w-full",children:[(0,t.jsxs)(a.TabsList,{className:"grid w-full grid-cols-4",children:[(0,t.jsxs)(a.TabsTrigger,{value:"manifest",children:[(0,t.jsx)(d,{className:"mr-2 h-4 w-4"})," Manifest"]}),(0,t.jsxs)(a.TabsTrigger,{value:"gdbus",children:[(0,t.jsx)(h,{className:"mr-2 h-4 w-4"})," GDBus"]}),(0,t.jsxs)(a.TabsTrigger,{value:"curl",children:[(0,t.jsx)(u.A,{className:"mr-2 h-4 w-4"})," cURL"]}),(0,t.jsxs)(a.TabsTrigger,{value:"jansson",children:[(0,t.jsx)(m,{className:"mr-2 h-4 w-4"})," Jansson"]})]}),(0,t.jsx)(a.TabsContent,{value:"manifest",className:"mt-6",children:(0,t.jsxs)(n.Zp,{children:[(0,t.jsxs)(n.aR,{children:[(0,t.jsx)(n.ZB,{children:"Manifest Configuration"}),(0,t.jsx)(n.BT,{children:"Before you can request credentials, you must grant your application permission by modifying its manifest.json file."})]}),(0,t.jsxs)(n.Wu,{className:"space-y-4",children:[(0,t.jsx)("p",{children:"You need to add the specific D-Bus method to the `requiredMethods` array. This tells the system that your application is allowed to call `GetCredentials`. Additionally, your application must run as a dynamic user, so you must remove the `user` section from the manifest if it exists."}),(0,t.jsx)(i.A,{language:"json",style:l.A,customStyle:{borderRadius:"0.5rem"},children:'{\n      "schemaVersion": "1.3.1",\n      "acapPackageConf": { ... },\n      "resources": {\n        "dbus": {\n          "requiredMethods": [\n            "com.axis.HTTPConf1.VAPIXServiceAccounts1.GetCredentials"\n          ]\n        }\n      }\n    }'})]})]})}),(0,t.jsx)(a.TabsContent,{value:"gdbus",className:"mt-6",children:(0,t.jsxs)(n.Zp,{children:[(0,t.jsxs)(n.aR,{children:[(0,t.jsx)(n.ZB,{children:"Acquiring Credentials with GDBus"}),(0,t.jsx)(n.BT,{children:"GDBus is a GLib-based library used for Inter-Process Communication. Your app uses it to securely ask the system for temporary VAPIX credentials."})]}),(0,t.jsxs)(n.Wu,{className:"space-y-4",children:[(0,t.jsx)("p",{children:"The process involves connecting to the system's D-Bus, invoking the `GetCredentials` method with a chosen username, and then parsing the `id:password` string that the service returns. These credentials are temporary and should only be stored in memory."}),(0,t.jsx)(i.A,{language:"c",style:l.A,customStyle:{borderRadius:"0.5rem"},children:'// 1. Connect to the system D-Bus\n    GDBusConnection *connection = g_bus_get_sync(G_BUS_TYPE_SYSTEM, NULL, &error);\n\n    // 2. Invoke the GetCredentials method\n    GVariant *username = g_variant_new("(s)", "my-vapix-user");\n    GVariant *result = g_dbus_connection_call_sync (\n        connection,\n        "com.axis.HTTPConf1",\n        "/com/axis/HTTPConf1/VAPIXServiceAccounts1",\n        "com.axis.HTTPConf1.VAPIXServiceAccounts1",\n        "GetCredentials",\n        username,\n        NULL,\n        G_DBUS_CALL_FLAGS_NONE,\n        -1,\n        NULL,\n        &error\n    );\n\n    // 3. Parse the returned credentials string\n    char* credentials_string = NULL;\n    g_variant_get(result, "(&s)", &credentials_string);\n    // ... parse "id:password" from credentials_string'})]})]})}),(0,t.jsx)(a.TabsContent,{value:"curl",className:"mt-6",children:(0,t.jsxs)(n.Zp,{children:[(0,t.jsxs)(n.aR,{children:[(0,t.jsx)(n.ZB,{children:"Making HTTP Requests with cURL"}),(0,t.jsx)(n.BT,{children:"Once you have credentials, you can use the `libcurl` library to make standard HTTP requests to VAPIX endpoints on the local virtual host (`127.0.0.12`)."})]}),(0,t.jsxs)(n.Wu,{className:"space-y-4",children:[(0,t.jsx)("p",{children:"You configure a cURL handle with the target URL, the credentials string (for Basic Authentication), and any request data. A write callback function is essential for capturing the response body returned by the server."}),(0,t.jsx)(i.A,{language:"c",style:l.A,customStyle:{borderRadius:"0.5rem"},children:'// 1. Set the URL to the local virtual host\n    char* url = g_strdup_printf("http://127.0.0.12/axis-cgi/%s", endpoint);\n    curl_easy_setopt(handle, CURLOPT_URL, url);\n\n    // 2. Provide the credentials obtained from D-Bus\n    curl_easy_setopt(handle, CURLOPT_USERPWD, credentials);\n    curl_easy_setopt(handle, CURLOPT_HTTPAUTH, CURLAUTH_BASIC);\n\n    // 3. Set the request body (for POST requests)\n    curl_easy_setopt(handle, CURLOPT_POSTFIELDS, request_body);\n\n    // 4. Set a callback to handle the response data\n    curl_easy_setopt(handle, CURLOPT_WRITEFUNCTION, append_to_gstring_callback);\n    curl_easy_setopt(handle, CURLOPT_WRITEDATA, response_gstring);\n\n    // 5. Perform the request\n    CURLcode res = curl_easy_perform(handle);'})]})]})}),(0,t.jsx)(a.TabsContent,{value:"jansson",className:"mt-6",children:(0,t.jsxs)(n.Zp,{children:[(0,t.jsxs)(n.aR,{children:[(0,t.jsx)(n.ZB,{children:"Parsing Responses with Jansson"}),(0,t.jsx)(n.BT,{children:"VAPIX endpoints typically return data in JSON format. The Jansson library is a lightweight and effective tool for parsing and manipulating this data in C."})]}),(0,t.jsxs)(n.Wu,{className:"space-y-4",children:[(0,t.jsx)("p",{children:"After receiving the response string from cURL, you pass it to `json_loads()` to get a traversable `json_t` object. From there, you can check for errors and extract the specific values your application needs. Remember to call `json_decref()` to free memory when you're done."}),(0,t.jsx)(i.A,{language:"c",style:l.A,customStyle:{borderRadius:"0.5rem"},children:'// 1. Parse the response string from cURL\n    json_error_t parse_error;\n    json_t* json_response = json_loads(text_response, 0, &parse_error);\n    if (!json_response) {\n        panic("Invalid JSON response: %s", parse_error.text);\n    }\n\n    // 2. Check for an API-level error in the response\n    const json_t* request_error = json_object_get(json_response, "error");\n    if (request_error) {\n        panic("API Error: %s", json_string_value(json_object_get(request_error, "message")));\n    }\n\n    // 3. Extract data from the JSON object\n    const json_t* data = json_object_get(json_response, "data");\n    const json_t* prop_list = json_object_get(data, "propertyList");\n    const json_t* prop_value = json_object_get(prop_list, "ProdShortName");\n    const char* value_str = json_string_value(prop_value);\n\n    // 4. Clean up by decrementing the reference count\n    json_decref(json_response);'})]})]})})]})]})}},88482:(e,s,r)=>{"use strict";r.d(s,{BT:()=>o,Wu:()=>d,ZB:()=>c,Zp:()=>i,aR:()=>l});var t=r(95155),n=r(12115),a=r(53999);let i=n.forwardRef((e,s)=>{let{className:r,...n}=e;return(0,t.jsx)("div",{ref:s,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...n})});i.displayName="Card";let l=n.forwardRef((e,s)=>{let{className:r,...n}=e;return(0,t.jsx)("div",{ref:s,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",r),...n})});l.displayName="CardHeader";let c=n.forwardRef((e,s)=>{let{className:r,...n}=e;return(0,t.jsx)("div",{ref:s,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",r),...n})});c.displayName="CardTitle";let o=n.forwardRef((e,s)=>{let{className:r,...n}=e;return(0,t.jsx)("div",{ref:s,className:(0,a.cn)("text-sm text-muted-foreground",r),...n})});o.displayName="CardDescription";let d=n.forwardRef((e,s)=>{let{className:r,...n}=e;return(0,t.jsx)("div",{ref:s,className:(0,a.cn)("p-6 pt-0",r),...n})});d.displayName="CardContent",n.forwardRef((e,s)=>{let{className:r,...n}=e;return(0,t.jsx)("div",{ref:s,className:(0,a.cn)("flex items-center p-6 pt-0",r),...n})}).displayName="CardFooter"}},e=>{var s=s=>e(e.s=s);e.O(0,[6874,172,7506,8441,1684,7358],()=>s(31911)),_N_E=e.O()}]);